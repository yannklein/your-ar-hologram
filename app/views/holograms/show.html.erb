<div class="container-hologram no-print">
  <div class="hologram-header">
    <div class="hologram-title">
      <div class="hologram-title-text">
        <h1><%= @hologram.title %></h1>
        <p>Created on <%= @hologram.created_at.strftime('%A, %d %B %Y') %></p>
      </div>
      <%= link_to(user_path(@hologram.user.nickname)) do %>
        <%= cl_image_tag @hologram.user.picture, alt: @hologram.user.nickname , class: 'avatar-bordered' %>
      <% end %>
    </div>
    <% if current_user == @hologram.user %>
      <div class="hologram-actions">
        <%= link_to "Edit", edit_hologram_path(@hologram), class: 'btn btn-primary'%>
        <%= link_to "Remove", hologram_path(@hologram), method: :delete, data: { confirm: "Wanna get rid of this hologram?"}, class: 'btn btn-danger'%>
      </div>
    <% end %>
  </div>
  <div class="hologram-info">
    <div id="hologram-qrcode">
      <%= image_tag @marker_png %>
      <div>
        <%= link_to 'print', :onclick => 'window.print();return false;', class:'button-text-light-blue' do %>
          <i class="fas fa-print"></i>
        <% end %>
        <%= link_to @marker_png, class:'button-text-light-blue', :type => 'image/png', :disposition => 'attachment', download: 'qrcode.png' do %>
          <i class="fas fa-link"></i>
        <% end %>
      </div>
    </div>
    <div class="hologram-description">
      <%= cl_image_tag @hologram.video, :format=>"gif", :video_sampling=>"1.1s", :delay=>"100", :effect=>"loop", :resource_type=>"video"%>
      <h3>About this hologram </h3>
      <p><%= @hologram.description %></p>
    </div>
  </div>
  <div class="hologram-demo">
    <h2>Try it ðŸŽ¥</h2>
    <p>Scan the QR code above with your smartphone, enter the webpage that pops-up and point the virtual QR code card below. (grab the virtual QR code to rotate it)</p>
    <div class="digital-qr-frame">
      <div class="digital-qr">
      </div>
    </div>
  </div>
</div>
<script>
  window.qrcode = `<%= @marker_png %>`;
</script>

<!-- Code for qr code printing -->
<h1 class='qr-print'><%= @hologram.title %></h1>
<%= image_tag @marker_png, class: 'qr-print' %>
<%= image_tag @marker_png, class: 'qr-print' %>
<style type="text/css" media="print">
  .qr-print {
    display: block;
    width: 50%;
  }
  .no-print {
    display: none;
  }
  h1 {
    margin-top: 120px;
  }
  body {
    height: 130vw;
    background-color: white;
    display: flex;
    align-items: center;
    justify-content: space-around;
    flex-direction: column;
  }
</style>
